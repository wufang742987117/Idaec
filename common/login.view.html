<div class="common-main " auto-height>
    <div class="common-main-title">
        <span class="zh-title">{{'LOGIN.TITLE' | translate}}</span>
        <span class="en-title hidden-xs"><span class="line">|</span>LOGIN</span>
    </div>
    <div class="container">
        <form class="form-horizontal" name="myForm" novalidate>
            <div class="form-group"  ng-class="{'has-error':myForm.username.$dirty && myForm.username.$invalid && !myForm.username.$focused ||(params.username && errorusername)}">
                <label for="user" class="col-sm-3 control-label">{{'LOGIN.USER_ACCOUNT' |translate}}</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="user" name="username" placeholder="{{ 'LOGIN.USERNAME_REQ' | translate }}" ng-change="getusername()"
                           ng-pattern='/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$|^[1][3,4,5,7,8,9][0-9]{9}$/'
                           ng-model="params.username" required ng-focus/>
                    <p class="error" ng-show="myForm.username.$dirty && myForm.username.$invalid && !myForm.username.$focused">
                        <span class="text-error"></span><span class="down">{{'LOGIN.WRONG_USERNAME' |translate}}</span></p>
                </div>
            </div>
            <!--ng-pattern='/[^\._-][\w\.-]+@(?:[A-Za-z0-9]+\.)+[A-Za-z]+$|^0\d{2,3}\d{7,8}$|^1[358]\d{9}$|^147\d{8}|^176\d{8}|^177\d{8}$/'-->
            <div class="form-group"
                 ng-class="{'has-error':myForm.passward.$dirty && myForm.passward.$invalid && !myForm.passward.$focused || passworderror}">
                <label for="passward" class="col-sm-3 control-label">{{'LOGIN.PASSWORD'|translate}}</label>

                <div class="col-sm-9">
                    <input type="password" class="form-control" id="passward" name="passward" placeholder="{{'LOGIN.PASSWORD_REQ' |translate}}"
                           ng-pattern="/((?=.*[a-z])(?=.*\d)|(?=[a-z])(?=.*[#@!~%^&*])|(?=.*\d)(?=.*[#@!~%^&*]))[a-z\d#@!~%^&*]{8,14}/i"
                           ng-change="getpassword()" ng-model="params.password" ng-minlength="8" ng-maxlength="14" maxlength="14" required ng-focus/>

                    <p class="error" ng-show="myForm.passward.$dirty && passworderror"><span class="text-error"></span>{{'LOGIN.USER_NO_SPACE' |translate}}</p>
                    <p class="error" ng-show="myForm.passward.$dirty && myForm.passward.$invalid && !myForm.passward.$focused"><span
                            class="text-error"></span>{{'LOGIN.USER_PWD_LENGTH' |translate}}</p>
                </div>
            </div>


            <div class="form-group" ng-class="{'has-error':errormsg}" ng-if="showimage">
                <label for="img-code" class="col-sm-3 control-label">{{'COMMON.IMAGE_CODE' |translate}}</label>
                <div class="col-sm-9">
                    <div class="input-message">
                        <input type="text" class="form-control get-send-code" id="img-code" name="code"
                               placeholder="{{'COMMON.IMAGE_CODE_REQ' |translate}}" ng-pattern='/^[0-9]\d*$/' ng-change="getVerifyImage()"
                               ng-model="params.secret" maxlength="5" required/>
                    </div>
                    <div class="input-img" ng-click="getImages()">
                        <img class="send-code-image" ng-src="{{imageUrl}}" src="/assets/images/loading.gif"/>
                    </div>
                    <span class="help-block" ng-show="errormsg"><span class="text-error"></span>{{'COMMON.IMAGE_ERROR' |translate}}</span>
                </div>
            </div>
            <div class="form-group last-group">
                <!--<label class="col-sm-1 control-label"></label>-->
                <div class="col-sm-offset-3 col-sm-9">
                    <button type="submit" class="btn login" ng-disabled="myForm.$invalid || isshow || loading" ng-click="login()">
                        <i ng-if="loading" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></i>
                        <span  ng-if="!loading">{{'COMMON.LOGIN'|translate}}</span>
                    </button>
                    <a class="assist" href="#!/reset">{{'LOGIN.FORGOT'| translate}}?</a>
                    <a class="assist pull-right" href="#!/register">{{'COMMON.REGISTER' |translate}}</a>
                </div>
            </div>
        </form>
    </div>
</div>




